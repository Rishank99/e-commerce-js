import{g as i,s as S,u as P,p as q}from"./showToast-2yhGDWj_.js";const f=(r,e)=>{let o=i().find(u=>u.id===r),n=1;return o&&(n=o.quantity,e=o.price),{quantity:n,price:e}},y=()=>{let r=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),n=i().reduce((u,l)=>{let t=parseInt(l.price)||0;return u+t},0);r.innerText=`₹${n}`,e.innerText=`₹${n+50}`},g=(r,e,c,o)=>{const n=document.querySelector(`#card${e}`),u=n.querySelector(".productQuantity"),l=n.querySelector(".productPrice");let t=1,a=0,d=i(),m=d.find(s=>s.id===e);m?(t=m.quantity,a=m.price):(a=o,o=o),r.target.className==="cartIncrement"&&(t<c?t+=1:t===c&&(t=c,a=o*c)),r.target.className==="cartDecrement"&&t>1&&(t-=1),a=o*t,a=Number(a.toFixed(2));let p={id:e,quantity:t,price:a};p=d.map(s=>s.id===e?p:s),localStorage.setItem("cartProductLS",JSON.stringify(p)),u.innerText=t,l.innerText=a,y()},C=r=>{let e=i();e=e.filter(o=>o.id!=r),localStorage.setItem("cartProductLS",JSON.stringify(e));let c=document.getElementById(`card${r}`);c&&(c.remove(),S("delete",r)),P(e)};let T=i(),x=q.filter(r=>T.some(e=>e.id===r.id));const N=document.querySelector("#productCartContainer"),v=document.querySelector("#productCartTemplate"),E=()=>{x.map(r=>{const{category:e,id:c,image:o,name:n,stock:u,price:l}=r;let t=document.importNode(v.content,!0);const a=f(c,l);t.querySelector("#cardValue").setAttribute("id",`card${c}`),t.querySelector(".category").innerText=e,t.querySelector(".productImage").src=o,t.querySelector(".productName").innerText=n,t.querySelector(".productPrice").innerText=a.price,t.querySelector(".productQuantity").innerText=a.quantity,t.querySelector(".remove-to-cart-button").addEventListener("click",()=>C(c)),t.querySelector(".stockElement").addEventListener("click",d=>{g(d,c,u,l)}),N.append(t)})};E();y();
